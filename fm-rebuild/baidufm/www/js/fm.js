var baidufm = {
    api: {
        channels: [{
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_yonglanwuhou&prepend=&format=json&_=",
                "title": "慵懒午后"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_jimo&prepend=&format=json&_=",
                "title": "寂寞电波"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_dj&prepend=&format=json&_=",
                "title": "DJ舞曲"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_zhongguofeng&prepend=&format=json&_=",
                "title": "中国风"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_billboard&prepend=&format=json&_=",
                "title": "BillBoard"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_zhongguohaoshengyin&prepend=&format=json&_=",
                "title": "中国好声音"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_70hou&prepend=&format=json&_=",
                "title": "70后"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_90hou&prepend=&format=json&_=",
                "title": "90后"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_80hou&prepend=&format=json&_=",
                "title": "80后"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_ktv&prepend=&format=json&_=",
                "title": "KTV金曲"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_qingyinyue&prepend=&format=json&_=",
                "title": "轻音乐"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_liuxing&prepend=&format=json&_=",
                "title": "流行"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_minyao&prepend=&format=json&_=",
                "title": "民谣"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_yedian&prepend=&format=json&_=",
                "title": "夜店"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_huankuai&prepend=&format=json&_=",
                "title": "快乐旋律"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_wangluo&prepend=&format=json&_=",
                "title": "网络"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_yaogun&prepend=&format=json&_=",
                "title": "摇滚"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_kaiche&prepend=&format=json&_=",
                "title": "开车"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_dianyingyuansheng&prepend=&format=json&_=",
                "title": "电影原声"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_lvxing&prepend=&format=json&_=",
                "title": "旅行"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_xinge&prepend=&format=json&_=",
                "title": "火爆新歌"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_erge&prepend=&format=json&_=",
                "title": "儿歌"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_fengge_xiaoqingxin&prepend=&format=json&_=",
                "title": "小清新"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_winter&prepend=&format=json&_=",
                "title": "温暖冬日"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_chengmingqu&prepend=&format=json&_=",
                "title": "成名曲"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_shiguang_jingdianlaoge&prepend=&format=json&_=",
                "title": "经典老歌"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_tuijian_rege&prepend=&format=json&_=",
                "title": "热歌"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_qingge&prepend=&format=json&_=",
                "title": "情歌"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_qingsongjiari&prepend=&format=json&_=",
                "title": "轻松假日"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_shanggan&prepend=&format=json&_=",
                "title": "伤感调频"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_shuhuan&prepend=&format=json&_=",
                "title": "舒缓节奏"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_xinqing_tianmi&prepend=&format=json&_=",
                "title": "甜蜜感受"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_yuzhong_hanyu&prepend=&format=json&_=",
                "title": "韩语"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_yuzhong_huayu&prepend=&format=json&_=",
                "title": "华语"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_yuzhong_oumei&prepend=&format=json&_=",
                "title": "欧美"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_yuzhong_riyu&prepend=&format=json&_=",
                "title": "日语"
            }, {
                "url": "http://fm.baidu.com/dev/api/?tn=playlist&id=public_yuzhong_yueyu&prepend=&format=json&_=",
                "title": "粤语"
            }],
        song: "http://music.baidu.com/data/music/fmlink?type=mp3&rate={rate}&songIds={id}",
        get128kStreamById: function(id, callback) {
            this.getTrackByIdEx(id, 128, callback);
        },
        get320kStreamById: function(id, callback) {
            this.getTrackByIdEx(id, 320, callback);
        },
        getTrackByIdEx: function(i, rate, callback) {
            var id = Plmgr.playlist[i].id;
            //console.log(id);
            /*
             * id can be "10650147,10543333" ,seperated by comma.
             */
            var url = this.song.replace("{rate}", rate).replace("{id}", id);
            $.getJSON(url).done(function(data) {
                console.log(data);
                if (data.data) {
                    callback(i, data.data.songList);
                } else {
                    console.log(data);
                    callback(i, null);
                }
            }).fail(function(e) {
                console.error(e);
                callback(i, null);
            });
        },
        getTrackBySongid: function(id, rate, callback) {
            //console.log(id);
            /*
             * id can be "10650147,10543333" ,seperated by comma.
             */
            var url = this.song.replace("{rate}", rate).replace("{id}", id);
            $.getJSON(url).done(function(data) {
                console.log(data);
                if (data.data) {
                    callback(data.data.songList);
                } else {
                    console.log(data);
                    callback(null);
                }
            }).fail(function(e) {
                console.error(e);
                callback(null);
            });
        },
        getChannelInfoByURL: function(channelurl, callback) {
            /*
             * channelURL should be this.channel[*].url
             */
            var url = channelurl + new Date().getTime();
            $.getJSON(url).done(function(data) {
                if (data['list']) {
                    callback(data['list']);
                } else {
                    callback(null);
                }
            }).fail(function(e) {
                console.error(e);
                callback(null);
            });
        }
    }
};